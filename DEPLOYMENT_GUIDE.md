# üöÄ –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è Dr.Protein

## üìã –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–∏

- **–°–µ—Ä–≤–µ—Ä:** 45.141.78.46 (Ubuntu 24.04)
- **Node.js:** v20.19.5
- **PM2:** —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- **Nginx:** —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- **SSL:** Let's Encrypt –¥–ª—è –æ–±–æ–∏—Ö –¥–æ–º–µ–Ω–æ–≤

## üåê –î–æ—Å—Ç—É–ø–Ω—ã–µ –¥–æ–º–µ–Ω—ã

### –ü—Ä–æ–¥–∞–∫—à–µ–Ω
- **–î–æ–º–µ–Ω:** https://vdbot1.store
- **–ü–æ—Ä—Ç:** 5000
- **PM2 –ø—Ä–æ—Ü–µ—Å—Å:** drprotein-prod
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–ø—É—â–µ–Ω

### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- **–î–æ–º–µ–Ω:** https://dev.vdbot1.store
- **–ü–æ—Ä—Ç:** 5001
- **PM2 –ø—Ä–æ—Ü–µ—Å—Å:** drprotein-dev
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–ø—É—â–µ–Ω (watch mode)

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π

- **Dev –∫–æ–¥:** `/home/drprotein-` (—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–¥–µ—Å—å)
- **Prod –∫–æ–¥:** `/var/www/drprotein` (—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è –∏–∑ dev)
- **–õ–æ–≥–∏ PM2:** `/root/.pm2/logs/`
- **–õ–æ–≥–∏ Nginx:** `/var/log/nginx/`

## üîÑ –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### 1. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- –†–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –∫–æ–¥ –≤ `/home/drprotein-`
- Dev —Å–µ—Ä–≤–µ—Ä (https://dev.vdbot1.store) –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏: `pm2 logs drprotein-dev`

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
–ö–æ–≥–¥–∞ —Ñ–∏—á–∏ –≥–æ—Ç–æ–≤—ã:
```bash
# –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–æ–¥–∞
cp -r /home/drprotein-/* /var/www/drprotein/

# –ü–µ—Ä–µ—Ö–æ–¥ –≤ –ø—Ä–æ–¥ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
cd /var/www/drprotein

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω—ã –∏–∑–º–µ–Ω–µ–Ω–∏—è)
npm run build

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
pm2 restart drprotein-prod

# –ü—Ä–æ–≤–µ—Ä–∫–∞
pm2 status
```

### 3. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
–°–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç `/home/update-prod.sh`:
```bash
#!/bin/bash
cp -r /home/drprotein-/* /var/www/drprotein/
cd /var/www/drprotein
npm run build
pm2 restart drprotein-prod
echo "–ü—Ä–æ–¥–∞–∫—à–µ–Ω –æ–±–Ω–æ–≤–ª–µ–Ω!"
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –°—Ç–∞—Ç—É—Å –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
```bash
pm2 status
```

### –õ–æ–≥–∏
```bash
# Dev –ª–æ–≥–∏
pm2 logs drprotein-dev

# Prod –ª–æ–≥–∏
pm2 logs drprotein-prod

# Nginx –ª–æ–≥–∏
tail -f /var/log/nginx/drprotein_prod_access.log
tail -f /var/log/nginx/drprotein_dev_access.log
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤
```bash
netstat -tlnp | grep :500
# 5000 - prod, 5001 - dev
```

## üõ†Ô∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞–º–∏

### PM2 –∫–æ–º–∞–Ω–¥—ã
```bash
pm2 restart drprotein-dev    # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ dev
pm2 restart drprotein-prod   # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ prod
pm2 stop drprotein-dev       # –û—Å—Ç–∞–Ω–æ–≤–∫–∞ dev
pm2 stop drprotein-prod      # –û—Å—Ç–∞–Ω–æ–≤–∫–∞ prod
pm2 start drprotein-dev      # –ó–∞–ø—É—Å–∫ dev
pm2 start drprotein-prod     # –ó–∞–ø—É—Å–∫ prod
pm2 monit                    # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
```

### Nginx –∫–æ–º–∞–Ω–¥—ã
```bash
nginx -t                    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
systemctl reload nginx      # –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞
systemctl status nginx      # –°—Ç–∞—Ç—É—Å
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è
- Nginx –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç —Å –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- PM2 —Å –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–æ–π –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Å–µ—Ä–≤–µ—Ä–∞

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ PM2 –∏ Nginx
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DNS: `nslookup vdbot1.store`

–í—Å–µ —Å–∏—Å—Ç–µ–º—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ! üéâ
